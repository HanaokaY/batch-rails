# 中断している データベースの作成段階


# バッチ処理

### 処理方式
バッチ処理はアプリケーションに関するデータの参照と更新を実現するための手段のひとつ。<br>
アプリケーションを設計するとき、どのようにしてデータを参照・更新するのが適切であるかを考えることはとても大切なこと。<br>
この「どのようにして」データの参照と更新を実現していくのか、その「手段」をITエンジニアの業界ではときどき「方式」と呼ぶことがある。<br>
<br>
データを参照・更新する方式は大きく分けると三つある。<br>

- エンドユーザーによる操作
- 管理者による操作
- バッチ処理

バッチ処理はそのひとつ。


### バッチ処理が有効

バッチ処理は月曜日の朝に一回や毎日夜10時といったように、定期的に実行するケースもあれば、必要なときに実行するケースもある。

例)
- 商品情報の一括更新
- 統計データの作成 ==> 大量データの集計
- バックアップの作成 ==> ファイルアップロード

### バッチ処理の実行環境

バッチ処理専用のバッチサーバーを構築して、そこで実行することが多い。<br>
cronを利用して、バッチ処理をスケジュール実行が多い。<br>
逆に一度のみの実行なら、バッチサーバーにログインして、そこから実行する運用方法が取られるらしい。<br>


### アプリケーションのサーバーは役割ごとに分けて構築するらしい
>アプリケーションのソースコードは全て同じであっても、ソースコードを反映させるサーバーは役割に応じて複数に分けておく構成が一般的です。
>(大規模なシステムになるとソースコードもそれぞれの役割ごとに、あるいはもっと細かい単位に別れている場合もあります)

>この場合、エンドユーザーからのリクエストを受け付け、結果を画面として返すためのアプリケーションサーバー、
>管理者向けの機能を提供する管理者向けアプリケーションサーバー、そしてバッチ処理を動かすためのバッチサーバーというように役割ごとにサーバーを分けて運用します。

>サーバーを分けて稼働させておくことで、アプリケーションの耐久性を向上させることができます。

>たとえば、アプリケーションがテレビで紹介されてエンドユーザーの数が大きく増加したようなケースを想像してみましょう。
>サーバーへの負荷が高くなり、画面の表示が追いつかないような状況になったときに
>バッチサーバーの役割も兼ねた構成でサーバーを稼働させているとバッチ処理も動作しなくなってしまいます。

#### もし、サーバーを分けていないと逆のケースも考えられる。
バッチ処理が高負荷を発生させていたらどうなるでしょうか？<br>
今度はエンドユーザーの画面がバッチ処理の影響を受けて動かなくなってしまうのです。<br>

自分でバッチサーバーを用意したくないなら、AWS Batch等がある。
